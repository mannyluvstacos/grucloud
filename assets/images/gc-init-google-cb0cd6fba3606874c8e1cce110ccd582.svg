<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1596px" preserveAspectRatio="none" style="width:758px;height:1596px;background:#FFFFFF;" version="1.1" viewBox="0 0 758 1596" width="758px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1584.3291" style="stroke:#000000;stroke-width:2.0;" width="745.5" x="6" y="6"/><line style="stroke:#000000;stroke-width:2.0;" x1="6" x2="751.5" y1="27.0146" y2="27.0146"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="102" x="327.75" y="22.0752">gc init for GCP</text><ellipse cx="301.5" cy="53.0146" fill="#000000" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FFFFFF" height="32" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="69" x="267" y="98.0146"/><text fill="#000000" font-family="Courier" font-size="12" lengthAdjust="spacing" textLength="49" x="277" y="117.0615">gc init</text><rect fill="#FFFFFF" height="209.0146" style="stroke:#000000;stroke-width:2.0;" width="509" x="232.5" y="165.0146"/><path d="M440.5,165.0146 L440.5,175.0293 L430.5,185.0293 L232.5,185.0293 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="198" x="235.5" y="180.0898">Is the gcloud CLI installed ?</text><rect fill="#FFFFFF" height="32" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="118" x="242.5" y="202.0293"/><text fill="#000000" font-family="Courier" font-size="12" lengthAdjust="spacing" textLength="98" x="252.5" y="221.0762">gcloud version</text><polygon fill="#FFFFFF" points="266.5,330.0293,336.5,330.0293,348.5,342.0293,336.5,354.0293,266.5,354.0293,254.5,342.0293,266.5,330.0293" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="70" x="266.5" y="346.4041">is installed ?</text><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="14" x="348.5" y="339.7197">no</text><rect fill="#FFFFFF" height="34.584" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="347" x="384.5" y="260.7373"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="25" x="402.5" y="282.8018">Visit</text><a href="https://https://cloud.google.com/sdk/docs/install" target="_blank" title="https://https://cloud.google.com/sdk/docs/install" xlink:actuate="onRequest" xlink:href="https://https://cloud.google.com/sdk/docs/install" xlink:show="new" xlink:title="https://https://cloud.google.com/sdk/docs/install" xlink:type="simple"><text fill="#0000FF" font-family="Verdana" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="290" x="431.5" y="282.8018">https://https://cloud.google.com/sdk/docs/install</text></a><rect fill="#FFFFFF" height="209.0146" style="stroke:#000000;stroke-width:2.0;" width="316" x="225.5" y="422.3979"/><path d="M370.5,422.3979 L370.5,432.4126 L360.5,442.4126 L225.5,442.4126 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="130" x="228.5" y="437.4731">Is Authenticated ?</text><rect fill="#FFFFFF" height="32" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="132" x="235.5" y="459.4126"/><text fill="#000000" font-family="Courier" font-size="12" lengthAdjust="spacing" textLength="112" x="245.5" y="478.4595">gcloud auth list</text><polygon fill="#FFFFFF" points="251.5,587.4126,351.5,587.4126,363.5,599.4126,351.5,611.4126,251.5,611.4126,239.5,599.4126,251.5,587.4126" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="100" x="251.5" y="603.7874">is authenticated ?</text><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="14" x="363.5" y="597.103">no</text><rect fill="#FFFFFF" height="34.584" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="140" x="391.5" y="518.1206"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="0" x="409.5" y="540.1851"/><text fill="#000000" font-family="Courier" font-size="12" lengthAdjust="spacing" textLength="112" x="409.5" y="539.7515">gloud auth login</text><rect fill="#FFFFFF" height="210.5986" style="stroke:#000000;stroke-width:2.0;" width="571" x="16" y="666.4126"/><path d="M127,666.4126 L127,676.4272 L117,686.4272 L16,686.4272 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="96" x="19" y="681.4878">Select Region</text><rect fill="#000000" height="6" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="551" x="26" y="703.4272"/><rect fill="#FFFFFF" height="32" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="209" x="40" y="729.4272"/><text fill="#000000" font-family="Courier" font-size="12" lengthAdjust="spacing" textLength="189" x="50" y="748.4741">gcloud compute regions list</text><rect fill="#FFFFFF" height="32" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="286" x="277" y="729.4272"/><text fill="#000000" font-family="Courier" font-size="12" lengthAdjust="spacing" textLength="266" x="287" y="748.4741">gcloud config get-value compute/region</text><rect fill="#000000" height="6" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="551" x="26" y="781.4272"/><rect fill="#FFFFFF" height="34.584" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="181" x="211" y="822.4272"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="157" x="225" y="844.4917">Prompt for region from list</text><rect fill="#FFFFFF" height="210.5986" style="stroke:#000000;stroke-width:2.0;" width="543" x="30" y="912.0112"/><path d="M128,912.0112 L128,922.0259 L118,932.0259 L30,932.0259 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="83" x="33" y="927.0864">Select Zone</text><rect fill="#000000" height="6" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="523" x="40" y="949.0259"/><rect fill="#FFFFFF" height="32" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="195" x="54" y="975.0259"/><text fill="#000000" font-family="Courier" font-size="12" lengthAdjust="spacing" textLength="175" x="64" y="994.0728">gcloud compute zones list</text><rect fill="#FFFFFF" height="32" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="272" x="277" y="975.0259"/><text fill="#000000" font-family="Courier" font-size="12" lengthAdjust="spacing" textLength="252" x="287" y="994.0728">gcloud config get-value compute/zone</text><rect fill="#000000" height="6" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="523" x="40" y="1027.0259"/><rect fill="#FFFFFF" height="34.584" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="172" x="215.5" y="1068.0259"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="148" x="229.5" y="1090.0903">Prompt for zone from list</text><rect fill="#FFFFFF" height="34.584" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="185" x="209" y="1157.6099"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="165" x="219" y="1179.6743">setup billing for that project</text><rect fill="#FFFFFF" height="34.584" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="155" x="224" y="1227.1938"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="135" x="234" y="1249.2583">enable the api services</text><rect fill="#FFFFFF" height="34.584" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="164" x="219.5" y="1296.7778"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="144" x="229.5" y="1318.8423">create a service account</text><rect fill="#FFFFFF" height="34.584" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="363" x="120" y="1366.3618"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="343" x="130" y="1388.4263">create and save the credential file for this service account</text><rect fill="#FFFFFF" height="34.584" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.0;" width="381" x="111" y="1435.9458"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacing" textLength="361" x="121" y="1458.0103">update the iam policy by binding roles to the service account</text><path d="M331.5,1505.5298 L331.5,1533.9294 L311.5,1537.9294 L331.5,1541.9294 L331.5,1570.3291 A0,0 0 0 0 331.5,1570.3291 L445.5,1570.3291 A0,0 0 0 0 445.5,1570.3291 L445.5,1515.5298 L435.5,1505.5298 L331.5,1505.5298 A0,0 0 0 0 331.5,1505.5298 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><path d="M435.5,1505.5298 L435.5,1515.5298 L445.5,1515.5298 L435.5,1505.5298 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="79" x="337.5" y="1523.5996">Next Steps:</text><ellipse cx="343" cy="1531.8291" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="56" x="350.5" y="1536.1299">gc list</text><ellipse cx="343" cy="1544.8291" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="64" x="350.5" y="1549.1299">gc apply</text><ellipse cx="343" cy="1557.8291" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="Courier" font-size="13" lengthAdjust="spacing" textLength="80" x="350.5" y="1562.1299">gc destroy</text><ellipse cx="301.5" cy="1537.9294" fill="#FFFFFF" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:2.5;" x1="295.3128" x2="307.6872" y1="1531.7423" y2="1544.1166"/><line style="stroke:#000000;stroke-width:2.5;" x1="307.6872" x2="295.3128" y1="1531.7423" y2="1544.1166"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="63.0146" y2="98.0146"/><polygon fill="#000000" points="297.5,88.0146,301.5,98.0146,305.5,88.0146,301.5,92.0146" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="234.0293" y2="330.0293"/><polygon fill="#000000" points="297.5,320.0293,301.5,330.0293,305.5,320.0293,301.5,324.0293" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="348.5" x2="558" y1="342.0293" y2="342.0293"/><line style="stroke:#000000;stroke-width:1.5;" x1="558" x2="558" y1="295.3213" y2="342.0293"/><polygon fill="#000000" points="554,305.3213,558,295.3213,562,305.3213,558,301.3213" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="558" x2="558" y1="218.0293" y2="260.7373"/><line style="stroke:#000000;stroke-width:1.5;" x1="558" x2="360.5" y1="218.0293" y2="218.0293"/><polygon fill="#000000" points="370.5,214.0293,360.5,218.0293,370.5,222.0293,366.5,218.0293" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="130.0146" y2="202.0293"/><polygon fill="#000000" points="297.5,192.0293,301.5,202.0293,305.5,192.0293,301.5,196.0293" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="491.4126" y2="587.4126"/><polygon fill="#000000" points="297.5,577.4126,301.5,587.4126,305.5,577.4126,301.5,581.4126" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="363.5" x2="461.5" y1="599.4126" y2="599.4126"/><line style="stroke:#000000;stroke-width:1.5;" x1="461.5" x2="461.5" y1="552.7046" y2="599.4126"/><polygon fill="#000000" points="457.5,562.7046,461.5,552.7046,465.5,562.7046,461.5,558.7046" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="461.5" x2="461.5" y1="475.4126" y2="518.1206"/><line style="stroke:#000000;stroke-width:1.5;" x1="461.5" x2="367.5" y1="475.4126" y2="475.4126"/><polygon fill="#000000" points="377.5,471.4126,367.5,475.4126,377.5,479.4126,373.5,475.4126" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="354.0293" y2="459.4126"/><polygon fill="#000000" points="297.5,449.4126,301.5,459.4126,305.5,449.4126,301.5,453.4126" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="11" lengthAdjust="spacing" textLength="20" x="305.5" y="411.0957">yes</text><line style="stroke:#000000;stroke-width:1.5;" x1="144.5" x2="144.5" y1="709.4272" y2="729.4272"/><polygon fill="#000000" points="140.5,719.4272,144.5,729.4272,148.5,719.4272,144.5,723.4272" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="420" x2="420" y1="709.4272" y2="729.4272"/><polygon fill="#000000" points="416,719.4272,420,729.4272,424,719.4272,420,723.4272" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="144.5" x2="144.5" y1="761.4272" y2="781.4272"/><polygon fill="#000000" points="140.5,771.4272,144.5,781.4272,148.5,771.4272,144.5,775.4272" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="420" x2="420" y1="761.4272" y2="781.4272"/><polygon fill="#000000" points="416,771.4272,420,781.4272,424,771.4272,420,775.4272" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="787.4272" y2="822.4272"/><polygon fill="#000000" points="297.5,812.4272,301.5,822.4272,305.5,812.4272,301.5,816.4272" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="611.4126" y2="703.4272"/><polygon fill="#000000" points="297.5,693.4272,301.5,703.4272,305.5,693.4272,301.5,697.4272" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="151.5" x2="151.5" y1="955.0259" y2="975.0259"/><polygon fill="#000000" points="147.5,965.0259,151.5,975.0259,155.5,965.0259,151.5,969.0259" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="413" x2="413" y1="955.0259" y2="975.0259"/><polygon fill="#000000" points="409,965.0259,413,975.0259,417,965.0259,413,969.0259" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="151.5" x2="151.5" y1="1007.0259" y2="1027.0259"/><polygon fill="#000000" points="147.5,1017.0259,151.5,1027.0259,155.5,1017.0259,151.5,1021.0259" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="413" x2="413" y1="1007.0259" y2="1027.0259"/><polygon fill="#000000" points="409,1017.0259,413,1027.0259,417,1017.0259,413,1021.0259" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="1033.0259" y2="1068.0259"/><polygon fill="#000000" points="297.5,1058.0259,301.5,1068.0259,305.5,1058.0259,301.5,1062.0259" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="857.0112" y2="949.0259"/><polygon fill="#000000" points="297.5,939.0259,301.5,949.0259,305.5,939.0259,301.5,943.0259" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="1102.6099" y2="1157.6099"/><polygon fill="#000000" points="297.5,1147.6099,301.5,1157.6099,305.5,1147.6099,301.5,1151.6099" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="1192.1938" y2="1227.1938"/><polygon fill="#000000" points="297.5,1217.1938,301.5,1227.1938,305.5,1217.1938,301.5,1221.1938" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="1261.7778" y2="1296.7778"/><polygon fill="#000000" points="297.5,1286.7778,301.5,1296.7778,305.5,1286.7778,301.5,1290.7778" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="1331.3618" y2="1366.3618"/><polygon fill="#000000" points="297.5,1356.3618,301.5,1366.3618,305.5,1356.3618,301.5,1360.3618" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="1400.9458" y2="1435.9458"/><polygon fill="#000000" points="297.5,1425.9458,301.5,1435.9458,305.5,1425.9458,301.5,1429.9458" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.5;" x1="301.5" x2="301.5" y1="1470.5298" y2="1527.9294"/><polygon fill="#000000" points="297.5,1517.9294,301.5,1527.9294,305.5,1517.9294,301.5,1521.9294" style="stroke:#000000;stroke-width:1.0;"/><!--MD5=[1623b0d8f73e229c4e04910b078fbc66]
@startuml gc-init-google
!theme plain

skinparam svgLinkTarget _blank

card "gc init for GCP" {
start

:""gc init"";

partition "Is the gcloud CLI installed ?" {
repeat :""gcloud version"";
backward:  Visit [[https://https://cloud.google.com/sdk/docs/install]];
repeat while (is installed ?) is (no) 
->yes;
}

partition "Is Authenticated ? " {

repeat :""gcloud auth list"";
backward:  ""gloud auth login"";
repeat while (is authenticated ?) is (no) 

}

partition "Select Region " {
fork
  :""gcloud compute regions list"";
fork again
  :""gcloud config get-value compute/region"";
end fork
: Prompt for region from list;
}

partition "Select Zone " {
 fork
  :""gcloud compute zones list"";
fork again
  :""gcloud config get-value compute/zone"";
end fork
: Prompt for zone from list;
}



:setup billing for that project;
:enable the api services;
:create a service account;
:create and save the credential file for this service account;
:update the iam policy by binding roles to the service account;

end
note right
Next Steps:
* ""gc list""
* ""gc apply""
* ""gc destroy""
end note 
}
@enduml

@startuml gc-init-google







<style>
  root {
    BackgroundColor white
    FontColor black
    FontName Verdana
    HyperLinkColor blue
    LineColor black
    LineThickness 1
    Margin 5
  }
  caption {
    LineThickness 0
  }
  footer {
    LineThickness 0
  }
  header {
    LineThickness 0
  }
  node {
    MaximumWidth 300
  }
  title {
    FontSize 22
    LineThickness 0
  }
</style>

skinparam ArrowLollipopColor black
skinparam BackgroundColor white
skinparam DefaultFontName Verdana
skinparam DefaultMonospacedFontName Courier
skinparam LifelineStrategy nosolid
skinparam ParticipantPadding 10
skinparam SequenceLifeLineBorderColor black
skinparam Shadowing false
skinparam UseBetaStyle true

skinparam Activity {
  BackgroundColor white
  BarColor black
  BorderColor black
  FontColor black
  FontName Verdana
}
skinparam Boundary {
  FontColor black
}
skinparam Box {
  Padding 5
}
skinparam CircledCharacter {
  FontColor black
  FontName Courier
  Radius 9
}
skinparam Class {
  BackgroundColor white
  BorderColor black
  FontColor black
  FontName Verdana
}
skinparam ClassAttribute {
  FontColor black
  FontName Verdana
}
skinparam ClassStereotype {
  FontColor black
  FontName Verdana
}
skinparam Footer {
  FontColor black
  FontName Verdana
}
skinparam Header {
  FontColor black
  FontName Verdana
}
skinparam Hyperlink {
  Color blue
}
skinparam IconPackage {
  Color black
  BackgroundColor white
}
skinparam IconPrivate {
  Color black
  BackgroundColor white
}
skinparam IconProtected {
  Color black
  BackgroundColor white
}
skinparam IconPublic {
  Color black
  BackgroundColor white
}
skinparam Note {
  FontColor black
  FontName Verdana
}
skinparam Package {
  BorderColor black
  FontColor black
  FontName Verdana
}
skinparam State {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeA {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeC {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeE {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeI {
  BackgroundColor white
  BorderColor black
}
skinparam StereotypeN {
  BackgroundColor white
  BorderColor black
}
skinparam UseCaseStereoType {
  FontColor black
  FontName Verdana
}

skinparam svgLinkTarget _blank

card "gc init for GCP" {
start

:""gc init"";

partition "Is the gcloud CLI installed ?" {
repeat :""gcloud version"";
backward:  Visit [[https://https://cloud.google.com/sdk/docs/install]];
repeat while (is installed ?) is (no) 
->yes;
}

partition "Is Authenticated ? " {

repeat :""gcloud auth list"";
backward:  ""gloud auth login"";
repeat while (is authenticated ?) is (no) 

}

partition "Select Region " {
fork
  :""gcloud compute regions list"";
fork again
  :""gcloud config get-value compute/region"";
end fork
: Prompt for region from list;
}

partition "Select Zone " {
 fork
  :""gcloud compute zones list"";
fork again
  :""gcloud config get-value compute/zone"";
end fork
: Prompt for zone from list;
}



:setup billing for that project;
:enable the api services;
:create a service account;
:create and save the credential file for this service account;
:update the iam policy by binding roles to the service account;

end
note right
Next Steps:
* ""gc list""
* ""gc apply""
* ""gc destroy""
end note 
}
@enduml

PlantUML version 1.2021.7(Sun May 23 09:40:07 BRT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>