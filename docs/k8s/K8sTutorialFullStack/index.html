<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-179962442-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-179962442-1",{anonymize_ip:!0})</script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-179962442-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-179962442-1",{anonymize_ip:!0})</script><title data-react-helmet="true">Full Stack App on Kubernetes | GruCloud</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Full Stack App on Kubernetes | GruCloud"><meta data-react-helmet="true" name="description" content="Introduction"><meta data-react-helmet="true" property="og:description" content="Introduction"><meta data-react-helmet="true" property="og:url" content="https://grucloud.github.io//docs/k8s/K8sTutorialFullStack"><link data-react-helmet="true" rel="shortcut icon" href="/img/cloud.svg"><link data-react-helmet="true" rel="canonical" href="https://grucloud.github.io//docs/k8s/K8sTutorialFullStack"><link rel="stylesheet" href="/styles.0778d22a.css">
<link rel="preload" href="/styles.e6a18987.js" as="script">
<link rel="preload" href="/runtime~main.a194b13b.js" as="script">
<link rel="preload" href="/main.42124447.js" as="script">
<link rel="preload" href="/1.e70a9842.js" as="script">
<link rel="preload" href="/2.9d761ddd.js" as="script">
<link rel="preload" href="/3.6d992e9e.js" as="script">
<link rel="preload" href="/1be78505.257f4673.js" as="script">
<link rel="preload" href="/125.2d9b1a11.js" as="script">
<link rel="preload" href="/20ac7829.72b00731.js" as="script">
<link rel="preload" href="/17896441.dacbc8d5.js" as="script">
<link rel="preload" href="/36dd6381.f227f857.js" as="script">
</head>
<body>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/cloud.svg" alt="GruCloud Logo"><strong class="navbar__title">GruCloud</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/grucloud/grucloud" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/cloud.svg" alt="GruCloud Logo"><strong class="navbar__title">GruCloud</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/Introduction">Docs</a></li><li class="menu__list-item"><a href="https://github.com/grucloud/grucloud" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Full Stack App on Kubernetes</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="introduction"></a>Introduction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p>The Kubernetes Grucloud provider allows to define and describe Kubernetes resources in Javascript, removing the need to write YAML or templating file.</p><p>The GruCloud Command Line Interface <strong>gc</strong> reads this description in Javascript and connect to the k8s control plane to apply the new or updated resource definitions.</p><p>Let&#x27;s deploy a full-stack application on kubernetes locally with minikube.</p><ul><li>a frontend (React)</li><li>a backend (Node.js)</li><li>an SQL database (postgres)</li><li>Key/Value, Pub/Sub (redis)</li></ul><p><img src="https://raw.githubusercontent.com/grucloud/grucloud/main/examples/k8s/starhackit/minikube/diagram-target.svg" alt="starhackit-grucloud"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="requirements"></a>Requirements<a aria-hidden="true" tabindex="-1" class="hash-link" href="#requirements" title="Direct link to heading">#</a></h2><p>Ensure <strong>kubectl</strong> and <strong>minikube</strong> is started with the ingress addon: <a href="/docs/k8s/K8sRequirements">K8s Requirements</a></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="getting-the-code"></a>Getting the code<a aria-hidden="true" tabindex="-1" class="hash-link" href="#getting-the-code" title="Direct link to heading">#</a></h3><p>Install the <em>grucloud</em> command line utility: <strong>gc</strong></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> i -g @grucloud/core</span></div></div></div></div></div><p>Clone the source code containing the examples:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">git</span><span class="token plain"> clone git@github.com:grucloud/grucloud.git</span></div></div></div></div></div><p>Change the k8s minikube directory</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> grucloud/examples/k8s/starhackit/minikube</span></div></div></div></div></div><p>Install the node dependencies:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="configjs"></a>config.js<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configjs" title="Direct link to heading">#</a></h3><p>Edit <strong>config.js</strong> and eventually change the configuration.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="plan"></a>Plan<a aria-hidden="true" tabindex="-1" class="hash-link" href="#plan" title="Direct link to heading">#</a></h2><p>Find out which resources are going to be allocated:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">gc plan</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="deploy"></a>Deploy<a aria-hidden="true" tabindex="-1" class="hash-link" href="#deploy" title="Direct link to heading">#</a></h2><p>Happy with the expected plan ? Deploy it now:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">gc deploy</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="list"></a>List<a aria-hidden="true" tabindex="-1" class="hash-link" href="#list" title="Direct link to heading">#</a></h2><p>List all the resources:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">gc list</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="destroy"></a>Destroy<a aria-hidden="true" tabindex="-1" class="hash-link" href="#destroy" title="Direct link to heading">#</a></h2><p>Time to destroy the resources allocated:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">gc destroy</span></div></div></div></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#requirements" class="table-of-contents__link">Requirements</a><ul><li><a href="#getting-the-code" class="table-of-contents__link">Getting the code</a></li><li><a href="#configjs" class="table-of-contents__link">config.js</a></li></ul></li><li><a href="#plan" class="table-of-contents__link">Plan</a></li><li><a href="#deploy" class="table-of-contents__link">Deploy</a></li><li><a href="#list" class="table-of-contents__link">List</a></li><li><a href="#destroy" class="table-of-contents__link">Destroy</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div><style data-emotion-css="1dszc5b">.css-1dszc5b{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;}</style><div class="css-1dszc5b"><style data-emotion-css="1qkzzwm">.css-1qkzzwm{margin:20px;}</style><div class="css-1qkzzwm"><h4 class="footer__title">Community</h4><style data-emotion-css="1tzzd34">.css-1tzzd34{padding:0 30px 0 00px;list-style:none;}</style><ul class="css-1tzzd34"><li><a href="https://twitter.com/grucloud_iac" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li><a href="https://stackoverflow.com/questions/tagged/grucloud" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li><a href="https://discord.com/channels/803645280359546920/803645355606147082" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li></ul></div><div class="css-1qkzzwm"><h4 class="footer__title">Documentation</h4><ul class="css-1tzzd34"><li><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/aws/AwsGettingStarted">AWS</a></li><li><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/google/GoogleGettingStarted">Google Cloud</a></li><li><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/azure/AzureGettingStarted">Microsoft Azure</a></li><li><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="/docs/k8s/K8sGettingStarted">Kubernetes</a></li></ul></div></div><style data-emotion-css="gk60pb">.css-gk60pb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.css-gk60pb > div{padding-right:30px;}</style><div class="css-gk60pb"><div>Copyright © 2021 GruCloud</div><a href="https://www.freeprivacypolicy.com/live/ada70892-c887-4a1d-8d0e-29801fe215b2">Privacy Policy</a></div></div></footer></div>
<script src="/styles.e6a18987.js"></script>
<script src="/runtime~main.a194b13b.js"></script>
<script src="/main.42124447.js"></script>
<script src="/1.e70a9842.js"></script>
<script src="/2.9d761ddd.js"></script>
<script src="/3.6d992e9e.js"></script>
<script src="/1be78505.257f4673.js"></script>
<script src="/125.2d9b1a11.js"></script>
<script src="/20ac7829.72b00731.js"></script>
<script src="/17896441.dacbc8d5.js"></script>
<script src="/36dd6381.f227f857.js"></script>
</body>
</html>